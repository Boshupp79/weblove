<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Le jardin des mots</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="stars"></div>
    
    <div class="container">
        <header>
            <h1 class="title">Un Jardin de Mots pour Toi 🌸</h1>
            <p class="subtitle">Quelques pensées qui traversent l'esprit...</p>
            <div class="music-note" style="top: 20px; left: 10%;">♪</div>
            <div class="music-note" style="top: 40px; right: 15%;">♫</div>
        </header>

        <div class="birthday-container" id="birthdayContainer">
            <button class="birthday-trigger" onclick="startBirthdayAnimation()">
                🎂 Clique pour une surprise ! 🎉
            </button>
            
            <div class="birthday-animation" id="birthdayAnimation">
                <div class="birthday-content">
                    <h1 class="birthday-title">Joyeux Anniversaire !</h1>
                    
                    <div class="cake-container">
                        <div class="cake">
                            <div class="candle">
                                <div class="flame"></div>
                            </div>
                            <div class="cake-layer layer-3"></div>
                            <div class="cake-layer layer-2"></div>
                            <div class="cake-layer layer-1"></div>
                        </div>
                    </div>
                    
                    <p class="birthday-message">Souffle les bougies pour découvrir ton message !</p>
                    <button class="blow-btn" onclick="blowCandles()">💨 Souffler</button>
                    
                    <div class="birthday-wish" id="birthdayWish">
                        <div class="wish-text">
                            <p style="font-size: 1.5em; margin-bottom: 20px;">✨ Que ta journée soit remplie ✨</p>
                            <p>De rires qui illuminent tes journées,<br>
                            De moments magiques partagés,<br>
                            De rêves qui se réalisent,<br>
                            Et de bonheur à chaque instant.</p>
                            <p style="margin-top: 20px; font-size: 1.2em; color: #e91e63;">
                                Parce que tu mérites tout le meilleur 💖
                            </p>
                        </div>
                    </div>
                </div>
                
                <div class="confetti-container" id="confettiContainer"></div>
                <button class="close-birthday" onclick="closeBirthday()">&times;</button>
            </div>
        </div>

        <div class="section">
            <div class="poetry-section">
                <p>"Il y a des sourires qui illuminent une journée entière,<br>
                des conversations qui rendent les heures plus légères."</p>
            </div>
        </div>

        <div class="section">
            <h2 style="text-align: center; margin-bottom: 30px; color: #2c3e50;">Petites Observations</h2>
            
            <div class="memory-card" onclick="addSparkle(this)">
                <div class="memory-title">📞 Nos appels</div>
                <div class="memory-text">
                    Il y a quelque chose de magique dans ces moments où le temps semble suspendu. 
                    Une conversation qui commence par "comment ça va ?" et qui se transforme en échange 
                    de sourires et de rires.
                </div>
            </div>

            <div class="memory-card" onclick="addSparkle(this)">
                <div class="memory-title">🌟 Les détails qui comptent</div>
                <div class="memory-text">
                    Cette façon unique de rire, cette façon d'avoir honte de rougir, ces moments où ton esprit se perd dans ton imagination.
                </div>
            </div>

            <div class="memory-card" onclick="addSparkle(this)">
                <div class="memory-title">💭 Les pensées du soir</div>
                <div class="memory-text">
                    Avant de dormir, mon esprit a une pensée pour toi, une pensée qui me donne le sourire pour un sommeil réconfortant.
                </div>
            </div>
        </div>

        <div class="section interactive-section">
            <h2 style="margin-bottom: 20px; color: #2c3e50;">Un petit quelque chose...</h2>
            <button class="reveal-btn" onclick="revealMessage()">Clic si tu es curieuse 🌸</button>
            
            <div id="hiddenMessage" class="hidden-message">
                <p style="font-size: 1.3em; color: #2c3e50; margin-bottom: 20px;">
                    "Tu sais, il y a des personnes qui ont ce don rare de rendre les jours plus beaux 
                    simplement par leur présence. Tu es de celles-là. ✨"
                </p>
                <button class="reveal-btn" onclick="showPoetry()">Encore un peu de poésie ? 🌺</button>
            </div>

            <div id="poetry" class="hidden-message">
                <div class="poetry-section">
                    <p>"Si j'étais poète, j'écrirais sur ces instants<br>
                    où tes messages illumine discrètement ma journée,<br>
                    si j'étais musicien, je composerais la mélodie<br>
                    de ton rire qui résonne encore dans mes pensées."</p>
                </div>
            </div>
        </div>

        <div class="section">
            <h2 style="text-align: center; margin-bottom: 30px; color: #2c3e50;">Petits Défis 🎮</h2>
            <p style="text-align: center; margin-bottom: 30px; color: #555; font-style: italic;">
                "Parce que les plus belles récompenses se méritent..."
            </p>
            
            <!-- Jeu de mémoire -->
            <div class="game-container">
                <h3 style="text-align: center; color: #667eea; margin-bottom: 20px;">💝 Jeu de Mémoire</h3>
                <p style="text-align: center; margin-bottom: 20px; color: #555;">
                    Trouve toutes les paires de cœurs pour déverrouiller un poème spécial !
                </p>
                
                <div id="memoryGame" class="memory-game">
                    <div class="card" data-card="heart1"></div>
                    <div class="card" data-card="heart2"></div>
                    <div class="card" data-card="heart3"></div>
                    <div class="card" data-card="heart4"></div>
                    <div class="card" data-card="heart5"></div>
                    <div class="card" data-card="heart6"></div>
                    <div class="card" data-card="heart7"></div>
                    <div class="card" data-card="heart8"></div>
                    <div class="card" data-card="heart9"></div>
                    <div class="card" data-card="heart10"></div>
                    <div class="card" data-card="heart1"></div>
                    <div class="card" data-card="heart2"></div>
                    <div class="card" data-card="heart3"></div>
                    <div class="card" data-card="heart4"></div>
                    <div class="card" data-card="heart5"></div>
                    <div class="card" data-card="heart6"></div>
                    <div class="card" data-card="heart7"></div>
                    <div class="card" data-card="heart8"></div>
                    <div class="card" data-card="heart9"></div>
                    <div class="card" data-card="heart10"></div>
                </div>
                
                <button class="reveal-btn" onclick="resetMemoryGame()">Recommencer 🔄</button>
                
                <div id="memoryReward" class="hidden-message">
                    <div class="poetry-section">
                        <h3 style="color: #e74c3c; margin-bottom: 20px;">🏆 Bravo ! Voici ta récompense :</h3>
                        <p>"Dans le jardin secret de mes pensées,<br>
                        ton sourire est la plus belle des fleurs."</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="section">
            <!-- Jeu de devinette -->
            <div class="game-container">
                <h3 style="text-align: center; color: #667eea; margin-bottom: 20px;">🌟 Devine la Phrase</h3>
                <p style="text-align: center; margin-bottom: 20px; color: #555;">
                    Trouve les lettres manquantes pour découvrir un message caché !
                </p>
                
                <div id="wordGame" class="word-game">
                    <div class="word-display">
                        <span class="letter revealed">T</span>
                        <span class="letter hidden" data-letter="U">_</span>
                        <span class="letter revealed"> </span>
                        <span class="letter hidden" data-letter="E">_</span>
                        <span class="letter hidden" data-letter="S">_</span>
                        <span class="letter revealed"> </span>
                        <span class="letter hidden" data-letter="M">_</span>
                        <span class="letter hidden" data-letter="A">_</span>
                        <span class="letter revealed">G</span>
                        <span class="letter hidden" data-letter="I">_</span>
                        <span class="letter hidden" data-letter="Q">_</span>
                        <span class="letter hidden" data-letter="U">_</span>
                        <span class="letter hidden" data-letter="E">_</span>
                    </div>
                    
                    <div class="letter-buttons">
                        <button class="letter-btn" onclick="guessLetter('A')">A</button>
                        <button class="letter-btn" onclick="guessLetter('E')">E</button>
                        <button class="letter-btn" onclick="guessLetter('I')">I</button>
                        <button class="letter-btn" onclick="guessLetter('U')">U</button>
                        <button class="letter-btn" onclick="guessLetter('M')">M</button>
                        <button class="letter-btn" onclick="guessLetter('S')">S</button>
                        <button class="letter-btn" onclick="guessLetter('Q')">Q</button>
                    </div>
                    
                    <!-- <p style="text-align: center; margin-top: 15px; color: #777;">
                        Indice : C'est ce que tu es pour moi ✨
                    </p> -->
                </div>
                
                <button class="reveal-btn" onclick="resetWordGame()">Recommencer 🔄</button>
                
                <div id="wordReward" class="hidden-message">
                    <div class="poetry-section">
                        <h3 style="color: #e74c3c; margin-bottom: 20px;">🎉 Parfait ! Voici ton cadeau :</h3>
                        <p>"Il y a des mots qu'on n'ose pas dire,<br>
                        des sentiments qu'on préfère suggérer,<br>
                        mais si tu lis entre les lignes de ce site,<br>
                        tu trouveras tout ce que mon cœur voudrait exprimer."</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="section">
            <!-- Jeu Simon -->
            <div class="game-container">
                <h3 style="text-align: center; color: #667eea; margin-bottom: 20px;">🎵 Simon Musical</h3>
                <p style="text-align: center; margin-bottom: 20px; color: #555;">
                    Répète la séquence de couleurs et gagne un message spécial !
                </p>
                
                <div class="simon-display">
                    <div>Score: <span id="simonScore">0</span></div>
                    <div id="simonStatus">Clique sur "Commencer" pour jouer</div>
                </div>
                
                <div id="simonGame" class="simon-game">
                    <button class="simon-btn red" data-color="0"></button>
                    <button class="simon-btn blue" data-color="1"></button>
                    <button class="simon-btn green" data-color="2"></button>
                    <button class="simon-btn yellow" data-color="3"></button>
                </div>
                
                <button class="reveal-btn" onclick="startSimonGame()">Commencer 🎮</button>
                <button class="reveal-btn" onclick="resetSimonGame()">Recommencer 🔄</button>
                
                <div id="simonReward" class="hidden-message">
                    <div class="poetry-section">
                        <h3 style="color: #e74c3c; margin-bottom: 20px;">🎼 Bravo ! Ta mélodie :</h3>
                        <p>"Tu es la mélodie qui accompagne mes journées,<br>
                        la note juste dans le chaos du quotidien."</p>
                    </div>
                </div>
            </div>
            
            <!-- Jeu de réflexe -->
            <div class="game-container">
                <h3 style="text-align: center; color: #667eea; margin-bottom: 20px;">⚡ Test de Réflexes</h3>
                <p style="text-align: center; margin-bottom: 20px; color: #555;">
                    Clique quand le cercle devient rouge ! Sois rapide pour débloquer un secret.
                </p>
                
                <div class="reflex-timer" id="reflexTimer">Prêt ?</div>
                
                <div id="reflexCircle" class="reflex-circle" onclick="reflexClick()">
                    🚀
                </div>
                
                <button class="reveal-btn" onclick="startReflexGame()">Commencer ⚡</button>
                
                <div id="reflexReward" class="hidden-message">
                    <div class="poetry-section">
                        <h3 style="color: #e74c3c; margin-bottom: 20px;">⚡ Réflexes impressionnants !</h3>
                        <p>"Rapide comme l'éclair, brillante comme une étoile,<br>
                        tu illumines tout sur ton passage."</p>
                    </div>
                </div>
            </div>
            
            <!-- Jeu des émojis -->
            <div class="game-container">
                <h3 style="text-align: center; color: #667eea; margin-bottom: 20px;">😊 Devine l'Émotion</h3>
                <p style="text-align: center; margin-bottom: 20px; color: #555;">
                    Trouve l'emoji qui correspond au sentiment ! 5 bonnes réponses pour une surprise.
                </p>
                
                <div class="score-display">Score: <span id="emojiScore">0</span>/5</div>
                
                <div id="emojiQuestion" style="text-align: center; margin: 20px 0; font-size: 1.1em; color: #2c3e50;">
                    Quel emoji représente : <span id="emojiTarget">la joie</span> ?
                </div>
                
                <div class="emoji-display" id="emojiDisplay">
                    Clique sur "Commencer" !
                </div>
                
                <div id="emojiOptions" class="emoji-options">
                    <button class="emoji-btn" onclick="selectEmoji(0)">😊</button>
                    <button class="emoji-btn" onclick="selectEmoji(1)">😢</button>
                    <button class="emoji-btn" onclick="selectEmoji(2)">😍</button>
                    <button class="emoji-btn" onclick="selectEmoji(3)">😴</button>
                </div>
                
                <button class="reveal-btn" onclick="startEmojiGame()">Commencer 😊</button>
                <button class="reveal-btn" onclick="resetEmojiGame()">Recommencer 🔄</button>
                
                <div id="emojiReward" class="hidden-message">
                    <div class="poetry-section">
                        <h3 style="color: #e74c3c; margin-bottom: 20px;">😍 Expert en émotions !</h3>
                        <p>"Tu sais lire dans les cœurs comme dans un livre ouvert,<br>
                        deviner les sourires cachés derrière les silences."</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="love-letter" id="loveLetter">
        <div class="hearts">💕 💖 💕</div>
        
        <div class="header">
            <h1 class="title"> Des mots sentimentals</h1>
            <p class="subtitle">Une lettre pour toi</p>
        </div>
        
        <div class="letter-content">
            <p>Ma princesse,</p>
            <br>
            <p>Je ne sais pas vraiment par où commencer, alors je vais simplement suivre ce que je ressens.</p>
            <br>
            <p>Il y a quelque chose chez toi… quelque chose que je n’arrive pas à nommer, mais que je ressens à chaque fois qu’on parle
                , ou même quand je pense à toi sans raison particulière. 
                Ce n’est pas un grand frisson, ni un feu d’artifice. C’est plus discret, plus profond. Comme une évidence tranquille.</p>
            <br>
            <p>Je ne te connais pas encore totalement, mais ce que je découvre me plaît. 
                Ton rire, tes silences, ta façon de t'exprimer — tout semble sonner juste. 
                Tu n’as pas besoin d’en faire trop, tu es déjà fascinante sans le vouloir.</p>
            <br>
            <p>Je ne cherche pas à te séduire avec de grands mots ou des promesses en l’air. 
                Je préfère te laisser entrevoir, au fil du temps, ce que j’ai envie de partager avec toi. 
                Une complicité douce, des fous rires imprévus, des silences qui apaisent… et peut-être plus, si le cœur s’en mêle..</p>
            <br>
            <p>Une de mes pensées s'est glissé dans cette lettre (peut être en cliquant dessus) ... </p>
        </div>
        
        <!-- <div class="click-hint">✨ Clique pour révéler le poème ✨</div> -->
    </div>
    
    <div class="poem-container" id="poemContainer">
        <div class="poem">
            <button class="close-btn" onclick="closePoem()">&times;</button>
            
            <h2 class="poem-title">Je pense à toi</h2>
            
            <div class="poem-text">
                <div class="poem-verse">
                    Trois notes de musique, je pense à toi,<br>
                    Chanter à tue-tête sur tous les toits,<br>
                    Ce que je ressens résonne en moi.

                </div>
                
                <div class="poem-verse">
                    Nous sommes séparés par la distance, <br>
                    Pourtant, même à l'autre bout de la France <br>
                    Un rien me ramène à toi. 

                </div>
                
                <div class="poem-verse">
                    L'histoire a débuté par "il était une fois", <br>
                    Et j'aimerai qu'elle s'écrive sans fin, <br>
                    Comme un refrain qui jamais ne s'efface, <br>
                    Jusqu'à "ils vécurent heureux" en écho à nos voix. 
                </div>
                
                <div class="poem-verse">
                    Chaque message, chaque silence, chaque regard, <br>
                    Gravent en moi ce lien, rare et bizarre, <br>
                    Une évidence douce, loin du hasard
                </div>
                
            </div>
        </div>
    </div>
    
    <div class="floating-hearts" id="floatingHearts"></div>

    <div class="lovegame" id="lovegame">
        <div class="score-board">
            <div class="score">Score: <span id="score">0</span></div>
            <div class="level">Niveau: <span id="level">1</span></div>
        </div>

        <div class="floating-hearts" id="floatingHearts"></div>
        
        <div class="message" id="message">
            Cliquez sur les cœurs pour faire grandir l'amour ! 💕
        </div>
    </div>

        <div class="section">
            <div class="poetry-section">
                <p style="font-size: 1.1em; color: #555;">
                    "Parfois les plus belles rencontres ne s'attendent pas, <br>
                    ne se prévoient pas, <br>
                    mais arrivent sans prévénir."
                </p>
            </div>
        </div>
    </div>

    <script>
        // Créer des étoiles
        function createStars() {
            const starsContainer = document.querySelector('.stars');
            for (let i = 0; i < 100; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 3 + 's';
                starsContainer.appendChild(star);
            }
        }

        // Révéler le message caché
        function revealMessage() {
            const message = document.getElementById('hiddenMessage');
            message.style.display = 'block';
            createFloatingHearts();
        }

        // Montrer la poésie
        function showPoetry() {
            const poetry = document.getElementById('poetry');
            poetry.style.display = 'block';
            createFloatingHearts();
        }

        // Créer des cœurs flottants
        function createFloatingHearts() {
            for (let i = 0; i < 5; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.className = 'floating-heart';
                    heart.innerHTML = '💖';
                    heart.style.left = Math.random() * window.innerWidth + 'px';
                    document.body.appendChild(heart);

                    setTimeout(() => {
                        heart.remove();
                    }, 3000);
                }, i * 300);
            }
        }

        // Ajouter des étincelles au clic
        function addSparkle(element) {
            for (let i = 0; i < 3; i++) {
                setTimeout(() => {
                    const sparkle = document.createElement('div');
                    sparkle.innerHTML = '✨';
                    sparkle.style.position = 'absolute';
                    sparkle.style.left = Math.random() * element.offsetWidth + 'px';
                    sparkle.style.top = Math.random() * element.offsetHeight + 'px';
                    sparkle.style.fontSize = '20px';
                    sparkle.style.pointerEvents = 'none';
                    sparkle.style.animation = 'fadeIn 0.5s ease-out';
                    element.style.position = 'relative';
                    element.appendChild(sparkle);

                    setTimeout(() => {
                        sparkle.remove();
                    }, 1000);
                }, i * 200);
            }
        }

        // Initialiser les étoiles
        createStars();

        // Ajouter des cœurs flottants périodiquement
        setInterval(createFloatingHearts, 10000);

        // Jeu de mémoire
        let memoryCards = [];
        let flippedCards = [];
        let matchedPairs = 0;
        const cardEmojis = {
            heart1: '💖',
            heart2: '💕',
            heart3: '💝',
            heart4: '🌹',
            heart5: '🌸',
            heart6: '💐',
            heart7: '🎀',
            heart8: '💜',
            heart9: '💙',
            heart10: '🥰'
        };

        function initializeMemoryGame() {
            const cards = document.querySelectorAll('#memoryGame .card');
            memoryCards = Array.from(cards);
            
            // Mélanger les cartes
            for (let i = memoryCards.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                memoryCards[i].parentNode.insertBefore(memoryCards[j], memoryCards[i].nextSibling);
            }
            
            memoryCards.forEach(card => {
                card.addEventListener('click', flipCard);
                card.textContent = '';
                card.classList.remove('flipped', 'matched');
            });
        }

        function flipCard() {
            if (this.classList.contains('flipped') || this.classList.contains('matched') || flippedCards.length >= 2) {
                return;
            }

            this.classList.add('flipped');
            this.textContent = cardEmojis[this.dataset.card];
            flippedCards.push(this);

            if (flippedCards.length === 2) {
                setTimeout(checkMatch, 1000);
            }
        }

        function checkMatch() {
            const [card1, card2] = flippedCards;
            
            if (card1.dataset.card === card2.dataset.card) {
                card1.classList.add('matched');
                card2.classList.add('matched');
                matchedPairs++;
                
                if (matchedPairs === 6) {
                    setTimeout(() => {
                        document.getElementById('memoryReward').style.display = 'block';
                        createFloatingHearts();
                        // Scroll vers la récompense sur mobile
                        if (window.innerWidth <= 768) {
                            document.getElementById('memoryReward').scrollIntoView({ 
                                behavior: 'smooth', 
                                block: 'center' 
                            });
                        }
                    }, 500);
                }
            } else {
                card1.classList.remove('flipped');
                card2.classList.remove('flipped');
                card1.textContent = '';
                card2.textContent = '';
            }
            
            flippedCards = [];
        }

        function resetMemoryGame() {
            matchedPairs = 0;
            flippedCards = [];
            document.getElementById('memoryReward').style.display = 'none';
            initializeMemoryGame();
        }

        // Jeu de devinette
        let guessedLetters = new Set();
        const targetWord = "TU ES MAGIQUE";
        const hiddenLetters = ['U', 'E', 'S', 'M', 'A', 'I', 'Q', 'U', 'E'];

        function guessLetter(letter) {
            if (guessedLetters.has(letter)) return;
            
            guessedLetters.add(letter);
            
            // Désactiver le bouton
            const button = [...document.querySelectorAll('.letter-btn')].find(btn => btn.textContent === letter);
            button.disabled = true;
            
            // Révéler les lettres correspondantes
            const letterElements = document.querySelectorAll('.letter[data-letter="' + letter + '"]');
            letterElements.forEach(el => {
                el.classList.remove('hidden');
                el.classList.add('revealed');
                el.textContent = letter;
            });
            
            // Vérifier si le mot est complété
            const allRevealed = [...document.querySelectorAll('.letter.hidden')].length === 0;
            if (allRevealed) {
                setTimeout(() => {
                    document.getElementById('wordReward').style.display = 'block';
                    createFloatingHearts();
                    // Scroll vers la récompense sur mobile
                    if (window.innerWidth <= 768) {
                        document.getElementById('wordReward').scrollIntoView({ 
                            behavior: 'smooth', 
                            block: 'center' 
                        });
                    }
                }, 500);
            }
        }

        function resetWordGame() {
            guessedLetters.clear();
            document.getElementById('wordReward').style.display = 'none';
            
            // Réinitialiser les lettres
            document.querySelectorAll('.letter[data-letter]').forEach(el => {
                el.classList.remove('revealed');
                el.classList.add('hidden');
                el.textContent = '_';
            });
            
            // Réactiver les boutons
            document.querySelectorAll('.letter-btn').forEach(btn => {
                btn.disabled = false;
            });
        }

        // Initialiser les jeux au chargement
        window.addEventListener('load', () => {
            initializeMemoryGame();
        });

        // Améliorer l'expérience mobile
        function optimizeForMobile() {
            if (window.innerWidth <= 768) {
                // Réduire le nombre d'étoiles sur mobile
                const stars = document.querySelectorAll('.star');
                stars.forEach((star, index) => {
                    if (index % 2 === 0) star.style.display = 'none';
                });
                
                // Réduire la fréquence des cœurs flottants
                clearInterval(window.heartInterval);
                window.heartInterval = setInterval(createFloatingHearts, 15000);
            }
        }

        // Optimiser au chargement et au redimensionnement
        window.addEventListener('load', optimizeForMobile);
        window.addEventListener('resize', optimizeForMobile);

        const loveLetter = document.getElementById('loveLetter');
        const poemContainer = document.getElementById('poemContainer');
        const floatingHearts = document.getElementById('floatingHearts');
        
        function createFloatingHeart(x, y) {
            const heart = document.createElement('div');
            heart.className = 'floating-heart';
            heart.innerHTML = '💕';
            heart.style.left = x + 'px';
            heart.style.top = y + 'px';
            heart.style.left = (x - 10) + 'px';
            floatingHearts.appendChild(heart);
            
            setTimeout(() => {
                heart.remove();
            }, 3000);
        }
        
        loveLetter.addEventListener('click', function(e) {
            // Créer des cœurs flottants
            for (let i = 0; i < 8; i++) {
                setTimeout(() => {
                    const x = e.clientX + (Math.random() - 0.5) * 100;
                    const y = e.clientY + (Math.random() - 0.5) * 100;
                    createFloatingHeart(x, y);
                }, i * 100);
            }
            
            // Afficher le poème après un court délai
            setTimeout(() => {
                poemContainer.classList.add('show');
            }, 400);
        });
        
        function closePoem() {
            poemContainer.classList.remove('show');
        }
        
        // Fermer avec la touche Échap
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closePoem();
            }
        });
        
        // Fermer en cliquant en dehors du poème
        poemContainer.addEventListener('click', function(e) {
            if (e.target === poemContainer) {
                closePoem();
            }
        });

        let simonSequence = [];
        let playerSequence = [];
        let simonLevel = 0;
        let simonGameActive = false;

        let reflexStartTime = 0;
        let reflexTimeout = null;
        let reflexGameActive = false;

        let emojiQuestions = [
            { question: "la joie", options: ["😊", "😢", "😍", "😴"], correct: 0 },
            { question: "la tristesse", options: ["😊", "😢", "😍", "😴"], correct: 1 },
            { question: "l'amour", options: ["😊", "😢", "😍", "😴"], correct: 2 },
            { question: "la fatigue", options: ["😊", "😢", "😍", "😴"], correct: 3 },
            { question: "la surprise", options: ["😮", "😴", "😢", "😊"], correct: 0 }
        ];
        let currentEmojiQuestion = 0;
        let emojiScore = 0;

        // Jeu Simon
        function startSimonGame() {
            simonSequence = [];
            playerSequence = [];
            simonLevel = 0;
            simonGameActive = true;
            document.getElementById('simonReward').style.display = 'none';
            document.getElementById('simonScore').textContent = '0';
            document.getElementById('simonStatus').textContent = 'Regarde la séquence...';
            
            setTimeout(playSimonSequence, 500);
        }

        function playSimonSequence() {
            if (!simonGameActive) return;
            
            // Ajouter une nouvelle couleur à la séquence
            simonSequence.push(Math.floor(Math.random() * 4));
            simonLevel++;
            
            // Jouer la séquence
            let i = 0;
            const interval = setInterval(() => {
                if (i < simonSequence.length) {
                    activateSimonButton(simonSequence[i]);
                    i++;
                } else {
                    clearInterval(interval);
                    document.getElementById('simonStatus').textContent = 'À ton tour !';
                    playerSequence = [];
                }
            }, 600);
        }

        function activateSimonButton(colorIndex) {
            const buttons = document.querySelectorAll('.simon-btn');
            const button = buttons[colorIndex];
            
            button.classList.add('active');
            setTimeout(() => {
                button.classList.remove('active');
            }, 400);
        }

        function setupSimonButtons() {
            const buttons = document.querySelectorAll('.simon-btn');
            buttons.forEach((button, index) => {
                button.addEventListener('click', () => {
                    if (!simonGameActive || document.getElementById('simonStatus').textContent === 'Regarde la séquence...') return;
                    
                    activateSimonButton(index);
                    playerSequence.push(index);
                    
                    // Vérifier si c'est correct
                    if (playerSequence[playerSequence.length - 1] !== simonSequence[playerSequence.length - 1]) {
                        // Erreur
                        document.getElementById('simonStatus').textContent = 'Oups ! Recommence.';
                        simonGameActive = false;
                        return;
                    }
                    
                    // Séquence complète et correcte
                    if (playerSequence.length === simonSequence.length) {
                        document.getElementById('simonScore').textContent = simonLevel;
                        
                        if (simonLevel >= 5) {
                            // Victoire !
                            document.getElementById('simonStatus').textContent = 'Bravo ! Séquence parfaite !';
                            document.getElementById('simonReward').style.display = 'block';
                            simonGameActive = false;
                            createFloatingHearts();
                        } else {
                            // Niveau suivant
                            document.getElementById('simonStatus').textContent = 'Excellent ! Niveau suivant...';
                            setTimeout(playSimonSequence, 1000);
                        }
                    }
                });
            });
        }

        function resetSimonGame() {
            simonGameActive = false;
            simonSequence = [];
            playerSequence = [];
            simonLevel = 0;
            document.getElementById('simonScore').textContent = '0';
            document.getElementById('simonStatus').textContent = 'Clique sur "Commencer" pour jouer';
            document.getElementById('simonReward').style.display = 'none';
        }

        // Jeu de réflexe
        function startReflexGame() {
            reflexGameActive = true;
            document.getElementById('reflexReward').style.display = 'none';
            const circle = document.getElementById('reflexCircle');
            const timer = document.getElementById('reflexTimer');
            
            circle.classList.remove('ready', 'success');
            circle.innerHTML = '⏳';
            timer.textContent = 'Attends...';
            
            // Délai aléatoire entre 2 et 6 secondes
            const delay = 2000 + Math.random() * 4000;
            
            reflexTimeout = setTimeout(() => {
                if (reflexGameActive) {
                    circle.classList.add('ready');
                    circle.innerHTML = '🔴';
                    timer.textContent = 'MAINTENANT !';
                    reflexStartTime = Date.now();
                }
            }, delay);
        }

        function reflexClick() {
            if (!reflexGameActive) return;
            
            const circle = document.getElementById('reflexCircle');
            const timer = document.getElementById('reflexTimer');
            
            if (circle.classList.contains('ready')) {
                // Clic au bon moment
                const reactionTime = Date.now() - reflexStartTime;
                circle.classList.remove('ready');
                circle.classList.add('success');
                circle.innerHTML = '⚡';
                timer.textContent = `${reactionTime}ms - Excellent !`;
                
                if (reactionTime < 500) {
                    setTimeout(() => {
                        document.getElementById('reflexReward').style.display = 'block';
                        createFloatingHearts();
                    }, 1000);
                }
                
                reflexGameActive = false;
            } else if (!circle.classList.contains('success')) {
                // Clic trop tôt
                timer.textContent = 'Trop tôt ! Recommence.';
                circle.innerHTML = '❌';
                clearTimeout(reflexTimeout);
                reflexGameActive = false;
            }
        }

        // Jeu des émojis
        function startEmojiGame() {
            emojiScore = 0;
            currentEmojiQuestion = 0;
            document.getElementById('emojiScore').textContent = '0';
            document.getElementById('emojiReward').style.display = 'none';
            showEmojiQuestion();
        }

        function showEmojiQuestion() {
            if (currentEmojiQuestion >= emojiQuestions.length) {
                // Toutes les questions terminées
                if (emojiScore >= 5) {
                    document.getElementById('emojiReward').style.display = 'block';
                    createFloatingHearts();
                }
                return;
            }
            
            const question = emojiQuestions[currentEmojiQuestion];
            document.getElementById('emojiTarget').textContent = question.question;
            document.getElementById('emojiDisplay').innerHTML = '🤔';
            
            const buttons = document.querySelectorAll('#emojiOptions .emoji-btn');
            buttons.forEach((btn, index) => {
                btn.innerHTML = question.options[index];
                btn.classList.remove('correct', 'wrong');
                btn.disabled = false;
            });
        }

        function selectEmoji(selectedIndex) {
            const question = emojiQuestions[currentEmojiQuestion];
            const buttons = document.querySelectorAll('#emojiOptions .emoji-btn');
            const isCorrect = selectedIndex === question.correct;
            
            // Désactiver tous les boutons
            buttons.forEach(btn => btn.disabled = true);
            
            if (isCorrect) {
                buttons[selectedIndex].classList.add('correct');
                document.getElementById('emojiDisplay').innerHTML = question.options[selectedIndex];
                emojiScore++;
                document.getElementById('emojiScore').textContent = emojiScore;
            } else {
                buttons[selectedIndex].classList.add('wrong');
                buttons[question.correct].classList.add('correct');
                document.getElementById('emojiDisplay').innerHTML = '😅';
            }
            
            setTimeout(() => {
                currentEmojiQuestion++;
                showEmojiQuestion();
            }, 1500);
        }

        function resetEmojiGame() {
            emojiScore = 0;
            currentEmojiQuestion = 0;
            document.getElementById('emojiScore').textContent = '0';
            document.getElementById('emojiReward').style.display = 'none';
            document.getElementById('emojiDisplay').innerHTML = 'Clique sur "Commencer" !';
            document.getElementById('emojiTarget').textContent = 'la joie';
            
            const buttons = document.querySelectorAll('#emojiOptions .emoji-btn');
            buttons.forEach((btn, index) => {
                btn.innerHTML = ['😊', '😢', '😍', '😴'][index];
                btn.classList.remove('correct', 'wrong');
                btn.disabled = false;
            });
        }

        // Initialiser les nouveaux jeux
        window.addEventListener('load', () => {
            setupSimonButtons();
        });



        // Paramètres pour le love game (faire grandir les coeurs)

        let score = 0;
        let level = 1;
        let combo = 0;
        let hearts = [];
        let gameSpeed = 2000;
        let specialHeartChance = 0.1;

        const messages = [
            "L'amour grandit ! 💕",
            "Magnifique ! Continuez ! ✨",
            "Votre cœur s'épanouit ! 🌸",
            "L'amour est dans l'air ! 💖",
            "Quelle belle émotion ! 🥰",
            "Vous rayonnez d'amour ! 🌟",
            "C'est magique ! ✨💕",
            "Votre amour illumine tout ! 🌈"
        ];

        function updateScore(points) {
            score += points;
            document.getElementById('score').textContent = score;
            
            const newLevel = Math.floor(score / 100) + 1;
            if (newLevel > level) {
                level = newLevel;
                document.getElementById('level').textContent = level;
                gameSpeed = Math.max(1000, 2000 - (level * 100));
                specialHeartChance = Math.min(0.3, 0.1 + (level * 0.05));
                showMessage(`Niveau ${level} ! L'amour s'intensifie ! 🎉`);
            }
        }

        function showMessage(text) {
            document.getElementById('message').textContent = text;
        }

        function createFloatingHeart(x, y) {
            const floatingHeart = document.createElement('div');
            floatingHeart.className = 'floating-heart';
            floatingHeart.textContent = '💖';
            floatingHeart.style.left = x + 'px';
            floatingHeart.style.top = y + 'px';
            floatingHeart.style.left = (x + Math.random() * 60 - 30) + 'px';
            
            document.getElementById('floatingHearts').appendChild(floatingHeart);
            
            setTimeout(() => {
                floatingHeart.remove();
            }, 3000);
        }

        function showCombo(comboCount) {
            const comboElement = document.createElement('div');
            comboElement.className = 'combo';
            comboElement.textContent = `COMBO x${comboCount}!`;
            document.body.appendChild(comboElement);
            
            setTimeout(() => {
                comboElement.remove();
            }, 1000);
        }

        function createHeart() {
            const heart = document.createElement('div');
            const isSpecial = Math.random() < specialHeartChance;
            
            heart.className = isSpecial ? 'heart special-heart' : 'heart';
            heart.textContent = isSpecial ? '💎' : '💖';
            
            const maxX = window.innerWidth - 60;
            const maxY = window.innerHeight - 200;
            heart.style.left = Math.random() * maxX + 'px';
            heart.style.top = Math.random() * maxY + 100 + 'px';
            
            heart.addEventListener('click', function() {
                const rect = heart.getBoundingClientRect();
                const x = rect.left + rect.width / 2;
                const y = rect.top + rect.height / 2;
                
                heart.classList.add('clicked');
                
                const points = isSpecial ? 25 : 10;
                updateScore(points);
                combo++;
                
                if (combo > 1 && combo % 5 === 0) {
                    showCombo(combo);
                    updateScore(combo * 2);
                }
                
                createFloatingHeart(x, y);
                
                if (Math.random() < 0.3) {
                    showMessage(messages[Math.floor(Math.random() * messages.length)]);
                }
                
                setTimeout(() => {
                    if (heart.parentNode) {
                        heart.remove();
                    }
                }, 500);
                
                hearts = hearts.filter(h => h !== heart);
            });
            
            document.querySelector('.container').appendChild(heart);
            hearts.push(heart);
            
            // Retirer le cœur après 5 secondes s'il n'est pas cliqué
            setTimeout(() => {
                if (heart.parentNode) {
                    heart.remove();
                    combo = Math.max(0, combo - 1);
                }
                hearts = hearts.filter(h => h !== heart);
            }, 5000);
        }

        function gameLoop() {
            // Nettoyer les anciens cœurs
            if (hearts.length > 8) {
                const oldHeart = hearts.shift();
                if (oldHeart.parentNode) {
                    oldHeart.remove();
                }
            }
            
            createHeart();
            setTimeout(gameLoop, gameSpeed + Math.random() * 1000);
        }

        // Démarrer le jeu
        setTimeout(() => {
            showMessage("Prêt ? C'est parti ! 🎮💕");
            gameLoop();
        }, 1000);

        // Réinitialiser le combo si pas de clic pendant longtemps
        setInterval(() => {
            if (combo > 0) {
                combo = Math.max(0, combo - 1);
            }
        }, 3000);

        function startBirthdayAnimation() {
    const animation = document.getElementById('birthdayAnimation');
    animation.classList.add('show');
    createBalloons();
}

function blowCandles() {
    const flame = document.querySelector('.flame');
    const candle = document.querySelector('.candle');
    const wish = document.getElementById('birthdayWish');
    const blowBtn = document.querySelector('.blow-btn');
    
    // Éteindre la flamme
    flame.style.animation = 'flameOut 0.5s ease-out forwards';
    
    setTimeout(() => {
        flame.style.display = 'none';
        candle.style.background = 'linear-gradient(to bottom, #666, #333)';
        blowBtn.style.display = 'none';
        wish.style.display = 'block';
        createConfetti();
    }, 500);
}

function createConfetti() {
    const container = document.getElementById('confettiContainer');
    const colors = ['#ff6b9d', '#c44569', '#ffeaa7', '#fdcb6e', '#a29bfe', '#6c5ce7', '#00b894', '#00cec9'];
    
    for (let i = 0; i < 100; i++) {
        setTimeout(() => {
            const confetti = document.createElement('div');
            confetti.className = 'confetti';
            confetti.style.left = Math.random() * 100 + '%';
            confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
            confetti.style.animationDelay = Math.random() * 2 + 's';
            container.appendChild(confetti);
            
            setTimeout(() => confetti.remove(), 3000);
        }, i * 30);
    }
}

function createBalloons() {
    const colors = ['🎈', '🎉', '🎊', '✨'];
    for (let i = 0; i < 20; i++) {
        setTimeout(() => {
            const balloon = document.createElement('div');
            balloon.className = 'floating-heart';
            balloon.innerHTML = colors[Math.floor(Math.random() * colors.length)];
            balloon.style.left = Math.random() * window.innerWidth + 'px';
            balloon.style.fontSize = (20 + Math.random() * 20) + 'px';
            document.body.appendChild(balloon);
            
            setTimeout(() => balloon.remove(), 3000);
        }, i * 100);
    }
}

function closeBirthday() {
    document.getElementById('birthdayAnimation').classList.remove('show');
    document.getElementById('confettiContainer').innerHTML = '';
    
    // Réinitialiser pour rejouer
    setTimeout(() => {
        document.querySelector('.flame').style.display = 'block';
        document.querySelector('.flame').style.animation = 'flameFlicker 0.3s infinite alternate';
        document.querySelector('.candle').style.background = 'linear-gradient(to bottom, #fff, #f0f0f0)';
        document.querySelector('.blow-btn').style.display = 'inline-block';
        document.getElementById('birthdayWish').style.display = 'none';
    }, 500);
}
    </script>
</body>
</html>
